{"ast":null,"code":"var _jsxFileName = \"/Users/charlotteweil1/Projets/Viz/gobiTraining/src/components/Dashboard.js\";\nimport React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Map from \"../components/Map\";\nimport LeftPanel from \"../components/LeftPanel\";\nimport SecondaryPanel from \"./SecondaryPanel\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateState = state => {\n      this.setState({\n        state\n      });\n    };\n\n    this.updateSelectedDatasets = state => {\n      this.setState({\n        selectedDatasets: state\n      });\n    };\n\n    this.updateDatasets = newdata => {\n      this.setState({\n        datasets: newdata\n      });\n    };\n\n    this.updateChartdata = columns => {\n      let chart = this.state.chart;\n      chart.columns = columns;\n      this.setState({\n        chart: chart\n      });\n    };\n\n    this.closeInfo = () => {\n      let statPanel = this.state.SecondaryPanel;\n      statPanel.show = false;\n      this.setState({\n        SecondaryPanel: statPanel\n      });\n    };\n\n    let selectedDatasets = [];\n    props.data.datasets.forEach(element => {\n      if (element.selected) {\n        selectedDatasets.push(element.id);\n      }\n    });\n    this.state = {\n      config: props.data.config,\n      baseMap: props.data.baseMap,\n      dataSections: props.data.dataSections,\n      datasets: props.data.datasets,\n      chart: props.data.chart,\n      SecondaryPanel: {\n        show: false,\n        id: 0\n      },\n      selectedDatasets: selectedDatasets\n    };\n  } // functions to give to child components so they can change the overall state\n\n\n  componentDidUpdate() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"position-relative dashboard-container h-80\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"p-0 h-80\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 3,\n      className: \" p-2 bg-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LeftPanel, {\n      config: this.state.config,\n      sections: this.state.dataSections,\n      datasets: this.state.datasets,\n      chart: this.state.chart,\n      SecondaryPanel: this.state.SecondaryPanel,\n      updateState: this.updateState,\n      updateDatasets: this.updateDatasets,\n      updateSelectedDatasets: this.updateSelectedDatasets,\n      selectedDatasets: this.state.selectedDatasets,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    })), this.state.SecondaryPanel.show && /*#__PURE__*/React.createElement(Col, {\n      sm: 3,\n      className: \" p-0 hidden-md-down bg-black \",\n      style: {\n        zIndex: \"2\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SecondaryPanel, {\n      item: this.state.dataSections[this.state.SecondaryPanel.id],\n      charts: this.state.charts,\n      closeInfo: this.closeInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      sm: 9,\n      className: \"p-0 fixing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      dataSections: this.state.dataSections,\n      datasets: this.state.datasets,\n      baseMap: this.state.baseMap,\n      selectedDatasets: this.state.selectedDatasets,\n      updateChart: this.updateChartdata,\n      chartIsLinked: this.state.config.chartIsLinkedTo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/charlotteweil1/Projets/Viz/gobiTraining/src/components/Dashboard.js"],"names":["React","Container","Col","Row","Map","LeftPanel","SecondaryPanel","Dashboard","Component","constructor","props","updateState","state","setState","updateSelectedDatasets","selectedDatasets","updateDatasets","newdata","datasets","updateChartdata","columns","chart","closeInfo","statPanel","show","data","forEach","element","selected","push","id","config","baseMap","dataSections","componentDidUpdate","render","zIndex","charts","chartIsLinkedTo"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\n\nimport Map from \"../components/Map\";\nimport LeftPanel from \"../components/LeftPanel\";\nimport SecondaryPanel from \"./SecondaryPanel\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    let selectedDatasets = [];\n    props.data.datasets.forEach((element) => {\n      if (element.selected) {\n        selectedDatasets.push(element.id);\n      }\n    });\n\n    this.state = {\n      config: props.data.config,\n      baseMap: props.data.baseMap,\n      dataSections: props.data.dataSections,\n      datasets: props.data.datasets,\n      chart: props.data.chart,\n      SecondaryPanel: {\n        show: false,\n        id: 0,\n      },\n      selectedDatasets: selectedDatasets,\n    };\n  }\n\n  // functions to give to child components so they can change the overall state\n  updateState = (state) => {\n    this.setState({ state });\n  };\n\n  updateSelectedDatasets = (state) => {\n    this.setState({ selectedDatasets: state });\n  };\n\n  updateDatasets = (newdata) => {\n    this.setState({ datasets: newdata });\n  };\n\n  // used for linking shapeiles with charts\n  updateChartdata = (columns) => {\n    let chart = this.state.chart;\n    chart.columns = columns;\n    this.setState({ chart: chart });\n  };\n\n  closeInfo = () => {\n    let statPanel = this.state.SecondaryPanel;\n    statPanel.show = false;\n    this.setState({ SecondaryPanel: statPanel });\n  };\n  componentDidUpdate() {}\n\n  render() {\n    return (\n      <div className=\"position-relative dashboard-container h-80\">\n        <Container fluid={true} className=\"\">\n          <Row className=\"p-0 h-80\">\n            <Col sm={3} className=\" p-2 bg-black\">\n              <LeftPanel\n                config={this.state.config}\n                sections={this.state.dataSections}\n                datasets={this.state.datasets}\n                chart={this.state.chart}\n                SecondaryPanel={this.state.SecondaryPanel}\n                updateState={this.updateState}\n                updateDatasets={this.updateDatasets}\n                updateSelectedDatasets={this.updateSelectedDatasets}\n                selectedDatasets={this.state.selectedDatasets}\n              />\n            </Col>\n            {this.state.SecondaryPanel.show && (\n              <Col\n                sm={3}\n                className=\" p-0 hidden-md-down bg-black \"\n                style={{ zIndex: \"2\" }}\n              >\n                <SecondaryPanel\n                  item={this.state.dataSections[this.state.SecondaryPanel.id]}\n                  charts={this.state.charts}\n                  closeInfo={this.closeInfo}\n                />\n              </Col>\n            )}\n            <Col sm={9} className=\"p-0 fixing\">\n              <Map\n                dataSections={this.state.dataSections}\n                datasets={this.state.datasets}\n                baseMap={this.state.baseMap}\n                selectedDatasets={this.state.selectedDatasets}\n                updateChart={this.updateChartdata}\n                chartIsLinked={this.state.config.chartIsLinkedTo}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}