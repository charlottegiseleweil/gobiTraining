{"ast":null,"code":"import _toConsumableArray from\"/Users/charlotteweil1/Projets/Viz/gobiTraining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/charlotteweil1/Projets/Viz/gobiTraining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/charlotteweil1/Projets/Viz/gobiTraining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/charlotteweil1/Projets/Viz/gobiTraining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/charlotteweil1/Projets/Viz/gobiTraining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Container from\"react-bootstrap/Container\";import Col from\"react-bootstrap/Col\";import Card from\"./Card\";import BarChart from\"./BarChart\";import LineChart from\"./LineChart\";var LeftPanel=/*#__PURE__*/function(_React$Component){_inherits(LeftPanel,_React$Component);var _super=_createSuper(LeftPanel);function LeftPanel(){var _this;_classCallCheck(this,LeftPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.showInfo=function(sectionID){var SecondaryPanel=_this.props.SecondaryPanel;SecondaryPanel.show=SecondaryPanel.show&&SecondaryPanel.id===sectionID?false:true;SecondaryPanel.id=sectionID;_this.props.updateState(SecondaryPanel);};_this.expandSection=function(sectionID){var dataSections=_toConsumableArray(_this.props.sections);dataSections[sectionID].expanded=dataSections[sectionID].expanded?false:true;_this.props.updateState(dataSections);};_this.toggleDataset=function(datasetID){var datasets=[].concat(_toConsumableArray(_this.props.datasets));datasets[datasetID].selected=datasets[datasetID].selected?false:true;_this.props.updateDatasets(datasets);var selectedDatasets=_toConsumableArray(_this.props.selectedDatasets);datasets[datasetID].selected?selectedDatasets.push(datasetID):selectedDatasets.splice(selectedDatasets.indexOf(datasetID),1);_this.props.updateSelectedDatasets(selectedDatasets);};_this.makeCards=function(dataSections){return dataSections.map(function(item){return/*#__PURE__*/React.createElement(Card,{item:item,key:item.id,datasets:_this.props.datasets,showInfoButton:_this.props.config.showInfoButton,showDownloadButton:_this.props.config.showDownloadButton,click:function click(){return _this.showInfo(item.id);},expandSection:function expandSection(){return _this.expandSection(item.id);},toggleDataset:_this.toggleDataset});});};_this.makeChart=function(){var out;switch(_this.props.chart.type){case\"bar\":out=/*#__PURE__*/React.createElement(BarChart,{item:_this.props.chart,isLinked:_this.props.config.chartIsLinkedTo});break;case\"line\":out=/*#__PURE__*/React.createElement(LineChart,{item:_this.props.chart,isLinked:_this.props.config.chartIsLinkedTo});break;default:}return out;};return _this;}_createClass(LeftPanel,[{key:\"render\",value:function render(){var linkedChart=this.props.config.chartIsLinkedTo;var displayChart=linkedChart?this.props.datasets[linkedChart].selected:this.props.chart;return/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"p-0 leftbar\"},/*#__PURE__*/React.createElement(\"h1\",{className:\" p-2 font-weight-light color-white\",style:{borderBottom:\"3px solid var(--highlight-color)\"}},\"Datasets\"),/*#__PURE__*/React.createElement(Col,{className:\"p-0\"},this.makeCards(this.props.sections)),displayChart&&/*#__PURE__*/React.createElement(\"div\",{className:\"dataSection p-2 m-1\"},this.makeChart()));}}]);return LeftPanel;}(React.Component);export default LeftPanel;","map":{"version":3,"sources":["/Users/charlotteweil1/Projets/Viz/gobiTraining/src/components/LeftPanel.js"],"names":["React","Container","Col","Card","BarChart","LineChart","LeftPanel","showInfo","sectionID","SecondaryPanel","props","show","id","updateState","expandSection","dataSections","sections","expanded","toggleDataset","datasetID","datasets","concat","selected","updateDatasets","selectedDatasets","push","splice","indexOf","updateSelectedDatasets","makeCards","map","item","config","showInfoButton","showDownloadButton","makeChart","out","chart","type","chartIsLinkedTo","linkedChart","displayChart","borderBottom","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\n\nimport Card from \"./Card\";\nimport BarChart from \"./BarChart\";\nimport LineChart from \"./LineChart\";\n\nclass LeftPanel extends React.Component {\n  // given an section id, this function displays the secondary panel with that id\n  showInfo = (sectionID) => {\n    let SecondaryPanel = this.props.SecondaryPanel;\n    SecondaryPanel.show =\n      SecondaryPanel.show && SecondaryPanel.id === sectionID ? false : true;\n    SecondaryPanel.id = sectionID;\n    this.props.updateState(SecondaryPanel);\n  };\n\n  // function for expanding the section\n  expandSection = (sectionID) => {\n    let dataSections = [...this.props.sections];\n    dataSections[sectionID].expanded = dataSections[sectionID].expanded\n      ? false\n      : true;\n    this.props.updateState(dataSections);\n  };\n\n  // function for selecting a data set to be displayed on the map\n  toggleDataset = (datasetID) => {\n    let datasets = [].concat([...this.props.datasets]);\n    datasets[datasetID].selected = datasets[datasetID].selected ? false : true;\n    this.props.updateDatasets(datasets);\n\n    let selectedDatasets = [...this.props.selectedDatasets];\n    datasets[datasetID].selected\n      ? selectedDatasets.push(datasetID)\n      : selectedDatasets.splice(selectedDatasets.indexOf(datasetID), 1);\n    this.props.updateSelectedDatasets(selectedDatasets);\n  };\n\n  // display the sections in the leftpanel\n  makeCards = (dataSections) => {\n    return dataSections.map((item) => {\n      return (\n        <Card\n          item={item}\n          key={item.id}\n          datasets={this.props.datasets}\n          showInfoButton={this.props.config.showInfoButton}\n          showDownloadButton={this.props.config.showDownloadButton}\n          click={() => this.showInfo(item.id)}\n          expandSection={() => this.expandSection(item.id)}\n          toggleDataset={this.toggleDataset}\n        />\n      );\n    });\n  };\n  makeChart = () => {\n    let out;\n    switch (this.props.chart.type) {\n      case \"bar\":\n        out = (\n          <BarChart\n            item={this.props.chart}\n            isLinked={this.props.config.chartIsLinkedTo}\n          />\n        );\n        break;\n      case \"line\":\n        out = (\n          <LineChart\n            item={this.props.chart}\n            isLinked={this.props.config.chartIsLinkedTo}\n          />\n        );\n        break;\n      default:\n    }\n    return out;\n  };\n\n  render() {\n    let linkedChart = this.props.config.chartIsLinkedTo;\n    let displayChart = linkedChart\n      ? this.props.datasets[linkedChart].selected\n      : this.props.chart;\n    return (\n      <Container fluid={true} className=\"p-0 leftbar\">\n        <h1\n          className=\" p-2 font-weight-light color-white\"\n          style={{ borderBottom: \"3px solid var(--highlight-color)\" }}\n        >\n          Datasets\n        </h1>\n        <Col className=\"p-0\">{this.makeCards(this.props.sections)}</Col>\n\n        {displayChart && (\n          <div className=\"dataSection p-2 m-1\">{this.makeChart()}</div>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default LeftPanel;\n"]},"metadata":{},"sourceType":"module"}